<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- Bootstrap CSS -->
    <link type="text/css" href="/static/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link type="text/css" href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Themify Icon -->
    <link rel="stylesheet" href="/static/icon/themify-icons.css">

    <!-- Online Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Home CSS -->
    <link rel="stylesheet" href="/static/css/cart.css">

    <!-- NavBar CSS -->
    <link rel="stylesheet" href="/static/css/navbar.css">

</head>

<body>
<!-- Navigation -->
{{template "navbar" .}}
<!-- End Navigation -->

<div class="spacer" style="height: 72px;"></div>

<!-- Body Page -->
<section class="heading breadcrumb-section pb-3 pt-3" style="background-color: #dedcdc;">
    <div class="container" style="background-color: #dedcdc;">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Trang chủ</a></li>
            <li class="breadcrumb-item active" aria-current="page">Giỏ hàng</li>
        </ol>
    </div>
</section>

{{ if .Cart.Items }}
<section class="product-page pb-4 pt-4" style="background-color: #ebebeb;">
    <div class="container">
        <!-- Table 1 -->
        <div class="row">
            <!-- <div class="table-responsive mt-5"> -->
            <div class="col-lg-12">
                <div class="service-item">
                    <table class="table-head table table-striped">
                        <thead>
                        <tr>
                            <th style="width: 2%;" class="text-center">#</th>
                            <th style="width: 3%; padding-left: 36px;" class="">Ảnh</th>
                            <th style="width: 8%;">Dịch vụ</th>
                            <th style="width: 2%;" class="text-center">Số lượng</th>
                            <th style="width: 2%;" class="text-center">Số tiền</th>
                        </tr>
                        </thead>
                    </table>

                    <!-- Form Bảng Cart Dịch vụ -->
                    <form method="POST" action="/cart/update">
                        {{ range $providerName, $items := .Cart.Items }}
                        <!-- Nhà cung cấp 1 -->
                        <!-- Phần hiển thị Nhà cung cấp -->
                        <div class="provider-detail">
                            <span><i class="ti-shopping-cart-full"> - </i>{{ $providerName }}</span>
                        </div>
                        <!-- Phần hiển thị Nhà cung cấp -->


                        <!-- Bảng hiển thị các Dịch vụ trong Cart -->
                        <table class="table-service table table-striped">
                            <tbody>
                            {{ range $items }}
                            <tr>
                                <td style="width: 2%;" scope="row" class="i-icon"><a href="/cart/remove/{{ .ItemID }}"><i
                                        class="ti-close"></i></a></td> <!-- Xóa Dịch vụ -->
                                <td style="width: 3%;"><img src="{{ .ImagePath }}" class=""/></td>
                                <td style="width: 8%;">{{ .Title }}</td>
                                <td style="width: 1.25%;"><input type="number" min="1" name="qty-{{ .ItemID }}"
                                                                 class="form-control" value="{{ .Quantity }}"/></td>
                                <td style="width: 2%;" class="text-end">{{ .SubTotal }}vnd</td>
                            </tr>
                            {{ end }}

                            <!-- Thêm các Dịch vụ vào Cart dưới đây -->
                            <!-- .... -->
                            <!-- Thêm các Dịch vụ vào Cart dưới đây -->
                            </tbody>
                        </table>
                        {{ end }}
                        <!-- Bảng hiển thị các Dịch vụ trong Cart -->
                        <!-- Nhà cung cấp 1 -->

                        <!-- Nút Update giỏ hàng -->
                        <div class="submit-button float-end">
                            <button class="btn btn-success" type="submit">Cập nhật giỏ hàng</button>
                        </div>
                        <!-- Nút Update giỏ hàng -->
                        <div class="">&nbsp;</div>
                    </form>
                </div>

                <!-- Những nhà cung cấp khác -->
                <!-- ... -->
                <!-- Những nhà cung cấp khác -->

                <!-- End Form Bảng Cart Dịch vụ -->
            </div>
            <!-- <div id="customAlert" class="custom-alert"></div> -->
            <!-- End Table 1 -->

            <!-- Table 2 -->

        </div>
        <!-- End Table 2 -->
    </div>

    <div class="spacer" style="height: 16px;"></div>
    <div class="container">
        <div class="pay-sumary">
            <div class="pay-text">
                <div class="pay-cover">
                    <div class="pay-detail-cover">
                        <div class="pay-detail">
                            <div class="total">Tổng thanh toán:</div>
                            <div class="unit">{{ .Cart.GrandTotal }}</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="pay-button">
                <button class="pay-btn"><span>Thanh toán</span></button>
            </div>
        </div>
    </div>
</section>
{{ else }}
<section class="product-page pb-4 pt-4" style="background-color: #ebebeb;">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="service-item">
                    <div class="provider-detail">
                        <span><i class="ti-shopping-cart-full"> - </i>Giỏ hàng của bạn còn trống</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{{ end}}
<!-- End Body Page -->

<!-- Footer -->
{{template "footer" .}}
<!-- End Footer -->
<script type="text/javascript" src="/static/js/cart.js"></script>
<script type="text/javascript" src="/static/bootstrap/js/bootstrap.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>